{"ast":null,"code":"\"use strict\";\n\nvar __importDefault = this && this.__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    \"default\": mod\n  };\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.decodePoolRequest = exports.encodePoolRequest = exports.encodePoolState = exports.decodePoolState = exports.isPoolState = exports.PoolRequest = exports.POOL_REQUEST_TAG = exports.InitializePoolRequest = exports.PoolAction = exports.Basket = exports.PoolState = exports.POOL_STATE_TAG = exports.ParamDesc = exports.AssetInfo = void 0;\n\nconst buffer_layout_1 = require(\"buffer-layout\");\n\nconst borsh_1 = require(\"@project-serum/borsh\");\n\nconst bn_js_1 = __importDefault(require(\"bn.js\"));\n\nexports.AssetInfo = buffer_layout_1.struct([borsh_1.publicKey('mint'), borsh_1.publicKey('vaultAddress')]);\nexports.ParamDesc = buffer_layout_1.struct([borsh_1.publicKey('address'), borsh_1.bool('writable')]);\nexports.POOL_STATE_TAG = new bn_js_1.default('16a7874c7fb2301b', 'hex');\nexports.PoolState = borsh_1.tagged(exports.POOL_STATE_TAG, buffer_layout_1.struct([borsh_1.publicKey('poolTokenMint'), borsh_1.vec(exports.AssetInfo, 'assets'), borsh_1.publicKey('vaultSigner'), buffer_layout_1.u8('vaultSignerNonce'), borsh_1.vec(exports.ParamDesc, 'accountParams'), borsh_1.str('name'), borsh_1.publicKey('lqdFeeVault'), borsh_1.publicKey('initializerFeeVault'), buffer_layout_1.u32('feeRate'), borsh_1.option(borsh_1.publicKey(), 'adminKey'), borsh_1.vecU8('customState')]));\nexports.Basket = buffer_layout_1.struct([borsh_1.vec(borsh_1.i64(), 'quantities')]);\nexports.PoolAction = borsh_1.rustEnum([borsh_1.u64('create'), borsh_1.u64('redeem'), exports.Basket.replicate('swap')]);\nexports.InitializePoolRequest = buffer_layout_1.struct([buffer_layout_1.u8('vaultSignerNonce'), buffer_layout_1.u8('assetsLength'), borsh_1.str('poolName'), buffer_layout_1.u32('feeRate'), borsh_1.vecU8('customData')]);\nexports.POOL_REQUEST_TAG = new bn_js_1.default('220a6cbdcd1cc4cf', 'hex');\nexports.PoolRequest = borsh_1.tagged(exports.POOL_REQUEST_TAG, borsh_1.rustEnum([exports.InitializePoolRequest.replicate('initialize'), exports.PoolAction.replicate('getBasket'), exports.PoolAction.replicate('execute')]));\n\nfunction isPoolState(data) {\n  return data.slice(0, 8).equals(exports.POOL_STATE_TAG.toBuffer('le'));\n}\n\nexports.isPoolState = isPoolState;\n\nfunction decodePoolState(data) {\n  return exports.PoolState.decode(data);\n}\n\nexports.decodePoolState = decodePoolState;\n\nfunction encodePoolState(state) {\n  const buffer = Buffer.alloc(1000);\n  const len = exports.PoolState.encode(state, buffer);\n  return buffer.slice(0, len);\n}\n\nexports.encodePoolState = encodePoolState;\n\nfunction encodePoolRequest(poolRequest) {\n  const buffer = Buffer.alloc(1000);\n  const len = exports.PoolRequest.encode(poolRequest, buffer);\n  return buffer.slice(0, len);\n}\n\nexports.encodePoolRequest = encodePoolRequest;\n\nfunction decodePoolRequest(data) {\n  return exports.PoolRequest.decode(data);\n}\n\nexports.decodePoolRequest = decodePoolRequest;","map":{"version":3,"sources":["../../src/schema.ts"],"names":[],"mappings":"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","sourceRoot":"","sourcesContent":["\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.decodePoolRequest = exports.encodePoolRequest = exports.encodePoolState = exports.decodePoolState = exports.isPoolState = exports.PoolRequest = exports.POOL_REQUEST_TAG = exports.InitializePoolRequest = exports.PoolAction = exports.Basket = exports.PoolState = exports.POOL_STATE_TAG = exports.ParamDesc = exports.AssetInfo = void 0;\nconst buffer_layout_1 = require(\"buffer-layout\");\nconst borsh_1 = require(\"@project-serum/borsh\");\nconst bn_js_1 = __importDefault(require(\"bn.js\"));\nexports.AssetInfo = buffer_layout_1.struct([\n    borsh_1.publicKey('mint'),\n    borsh_1.publicKey('vaultAddress'),\n]);\nexports.ParamDesc = buffer_layout_1.struct([\n    borsh_1.publicKey('address'),\n    borsh_1.bool('writable'),\n]);\nexports.POOL_STATE_TAG = new bn_js_1.default('16a7874c7fb2301b', 'hex');\nexports.PoolState = borsh_1.tagged(exports.POOL_STATE_TAG, buffer_layout_1.struct([\n    borsh_1.publicKey('poolTokenMint'),\n    borsh_1.vec(exports.AssetInfo, 'assets'),\n    borsh_1.publicKey('vaultSigner'),\n    buffer_layout_1.u8('vaultSignerNonce'),\n    borsh_1.vec(exports.ParamDesc, 'accountParams'),\n    borsh_1.str('name'),\n    borsh_1.publicKey('lqdFeeVault'),\n    borsh_1.publicKey('initializerFeeVault'),\n    buffer_layout_1.u32('feeRate'),\n    borsh_1.option(borsh_1.publicKey(), 'adminKey'),\n    borsh_1.vecU8('customState'),\n]));\nexports.Basket = buffer_layout_1.struct([borsh_1.vec(borsh_1.i64(), 'quantities')]);\nexports.PoolAction = borsh_1.rustEnum([\n    borsh_1.u64('create'),\n    borsh_1.u64('redeem'),\n    exports.Basket.replicate('swap'),\n]);\nexports.InitializePoolRequest = buffer_layout_1.struct([\n    buffer_layout_1.u8('vaultSignerNonce'),\n    buffer_layout_1.u8('assetsLength'),\n    borsh_1.str('poolName'),\n    buffer_layout_1.u32('feeRate'),\n    borsh_1.vecU8('customData'),\n]);\nexports.POOL_REQUEST_TAG = new bn_js_1.default('220a6cbdcd1cc4cf', 'hex');\nexports.PoolRequest = borsh_1.tagged(exports.POOL_REQUEST_TAG, borsh_1.rustEnum([\n    exports.InitializePoolRequest.replicate('initialize'),\n    exports.PoolAction.replicate('getBasket'),\n    exports.PoolAction.replicate('execute'),\n]));\nfunction isPoolState(data) {\n    return data.slice(0, 8).equals(exports.POOL_STATE_TAG.toBuffer('le'));\n}\nexports.isPoolState = isPoolState;\nfunction decodePoolState(data) {\n    return exports.PoolState.decode(data);\n}\nexports.decodePoolState = decodePoolState;\nfunction encodePoolState(state) {\n    const buffer = Buffer.alloc(1000);\n    const len = exports.PoolState.encode(state, buffer);\n    return buffer.slice(0, len);\n}\nexports.encodePoolState = encodePoolState;\nfunction encodePoolRequest(poolRequest) {\n    const buffer = Buffer.alloc(1000);\n    const len = exports.PoolRequest.encode(poolRequest, buffer);\n    return buffer.slice(0, len);\n}\nexports.encodePoolRequest = encodePoolRequest;\nfunction decodePoolRequest(data) {\n    return exports.PoolRequest.decode(data);\n}\nexports.decodePoolRequest = decodePoolRequest;\n//# sourceMappingURL=schema.js.map"]},"metadata":{},"sourceType":"script"}