{"ast":null,"code":"var _jsxFileName = \"/mnt/c/Users/Gianni/Desktop/serum-dex-ui/src/pages/OpenOrdersPage.tsx\";\nimport React from 'react';\nimport FloatingElement from '../components/layout/FloatingElement';\nimport { useAllMarkets, useAllOpenOrders, useMarketInfos } from '../utils/markets';\nimport OpenOrderTable from '../components/UserInfoTable/OpenOrderTable';\nimport { Button, Row } from 'antd';\nimport { useWallet } from '../utils/wallet';\nimport WalletConnect from '../components/WalletConnect';\nexport default function OpenOrdersPage() {\n  const {\n    connected\n  } = useWallet();\n  const {\n    openOrders,\n    loaded,\n    refreshOpenOrders\n  } = useAllOpenOrders();\n  let marketInfos = useMarketInfos();\n  let marketAddressesToNames = Object.fromEntries(marketInfos.map(info => [info.address.toBase58(), info.name]));\n  let [allMarkets] = useAllMarkets();\n  const marketsByAddress = Object.fromEntries((allMarkets || []).map(marketInfo => [marketInfo.market.address.toBase58(), marketInfo.market]));\n  const dataSource = (openOrders || []).map(orderInfos => orderInfos.orders.map(order => {\n    return {\n      marketName: marketAddressesToNames[orderInfos.marketAddress],\n      market: marketsByAddress[orderInfos.marketAddress],\n      ...order\n    };\n  })).flat();\n\n  if (!connected) {\n    return /*#__PURE__*/React.createElement(Row, {\n      justify: \"center\",\n      style: {\n        marginTop: '10%'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(WalletConnect, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 9\n      }\n    }));\n  }\n\n  return /*#__PURE__*/React.createElement(FloatingElement, {\n    style: {\n      flex: 1,\n      paddingTop: 10\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    onClick: refreshOpenOrders,\n    loading: !loaded,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 7\n    }\n  }, \"Refresh\"), /*#__PURE__*/React.createElement(OpenOrderTable, {\n    openOrders: dataSource,\n    pageSize: 25,\n    loading: !loaded,\n    onCancelSuccess: refreshOpenOrders,\n    marketFilter: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 7\n    }\n  }));\n}","map":{"version":3,"sources":["/mnt/c/Users/Gianni/Desktop/serum-dex-ui/src/pages/OpenOrdersPage.tsx"],"names":["React","FloatingElement","useAllMarkets","useAllOpenOrders","useMarketInfos","OpenOrderTable","Button","Row","useWallet","WalletConnect","OpenOrdersPage","connected","openOrders","loaded","refreshOpenOrders","marketInfos","marketAddressesToNames","Object","fromEntries","map","info","address","toBase58","name","allMarkets","marketsByAddress","marketInfo","market","dataSource","orderInfos","orders","order","marketName","marketAddress","flat","marginTop","flex","paddingTop"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,eAAP,MAA4B,sCAA5B;AACA,SACEC,aADF,EAEEC,gBAFF,EAGEC,cAHF,QAIO,kBAJP;AAKA,OAAOC,cAAP,MAA2B,4CAA3B;AACA,SAASC,MAAT,EAAiBC,GAAjB,QAA4B,MAA5B;AAEA,SAASC,SAAT,QAA0B,iBAA1B;AACA,OAAOC,aAAP,MAA0B,6BAA1B;AAEA,eAAe,SAASC,cAAT,GAA0B;AACvC,QAAM;AAAEC,IAAAA;AAAF,MAAgBH,SAAS,EAA/B;AACA,QAAM;AAAEI,IAAAA,UAAF;AAAcC,IAAAA,MAAd;AAAsBC,IAAAA;AAAtB,MAA4CX,gBAAgB,EAAlE;AACA,MAAIY,WAAW,GAAGX,cAAc,EAAhC;AACA,MAAIY,sBAAsB,GAAGC,MAAM,CAACC,WAAP,CAC3BH,WAAW,CAACI,GAAZ,CAAiBC,IAAD,IAAU,CAACA,IAAI,CAACC,OAAL,CAAaC,QAAb,EAAD,EAA0BF,IAAI,CAACG,IAA/B,CAA1B,CAD2B,CAA7B;AAGA,MAAI,CAACC,UAAD,IAAetB,aAAa,EAAhC;AACA,QAAMuB,gBAAgB,GAAGR,MAAM,CAACC,WAAP,CACvB,CAACM,UAAU,IAAI,EAAf,EAAmBL,GAAnB,CAAwBO,UAAD,IAAgB,CACrCA,UAAU,CAACC,MAAX,CAAkBN,OAAlB,CAA0BC,QAA1B,EADqC,EAErCI,UAAU,CAACC,MAF0B,CAAvC,CADuB,CAAzB;AAOA,QAAMC,UAA0C,GAAG,CAAChB,UAAU,IAAI,EAAf,EAChDO,GADgD,CAC3CU,UAAD,IACHA,UAAU,CAACC,MAAX,CAAkBX,GAAlB,CAAuBY,KAAD,IAAW;AAC/B,WAAO;AACLC,MAAAA,UAAU,EAAEhB,sBAAsB,CAACa,UAAU,CAACI,aAAZ,CAD7B;AAELN,MAAAA,MAAM,EAAEF,gBAAgB,CAACI,UAAU,CAACI,aAAZ,CAFnB;AAGL,SAAGF;AAHE,KAAP;AAKD,GAND,CAF+C,EAUhDG,IAVgD,EAAnD;;AAYA,MAAI,CAACvB,SAAL,EAAgB;AACd,wBACE,oBAAC,GAAD;AACE,MAAA,OAAO,EAAC,QADV;AAEE,MAAA,KAAK,EAAE;AACLwB,QAAAA,SAAS,EAAE;AADN,OAFT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAME,oBAAC,aAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MANF,CADF;AAUD;;AAED,sBACE,oBAAC,eAAD;AAAiB,IAAA,KAAK,EAAE;AAAEC,MAAAA,IAAI,EAAE,CAAR;AAAWC,MAAAA,UAAU,EAAE;AAAvB,KAAxB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,MAAD;AAAQ,IAAA,OAAO,EAAEvB,iBAAjB;AAAoC,IAAA,OAAO,EAAE,CAACD,MAA9C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eADF,eAIE,oBAAC,cAAD;AACE,IAAA,UAAU,EAAEe,UADd;AAEE,IAAA,QAAQ,EAAE,EAFZ;AAGE,IAAA,OAAO,EAAE,CAACf,MAHZ;AAIE,IAAA,eAAe,EAAEC,iBAJnB;AAKE,IAAA,YAAY,MALd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAJF,CADF;AAcD","sourcesContent":["import React from 'react';\nimport FloatingElement from '../components/layout/FloatingElement';\nimport {\n  useAllMarkets,\n  useAllOpenOrders,\n  useMarketInfos,\n} from '../utils/markets';\nimport OpenOrderTable from '../components/UserInfoTable/OpenOrderTable';\nimport { Button, Row } from 'antd';\nimport { OrderWithMarketAndMarketName } from '../utils/types';\nimport { useWallet } from '../utils/wallet';\nimport WalletConnect from '../components/WalletConnect';\n\nexport default function OpenOrdersPage() {\n  const { connected } = useWallet();\n  const { openOrders, loaded, refreshOpenOrders } = useAllOpenOrders();\n  let marketInfos = useMarketInfos();\n  let marketAddressesToNames = Object.fromEntries(\n    marketInfos.map((info) => [info.address.toBase58(), info.name]),\n  );\n  let [allMarkets] = useAllMarkets();\n  const marketsByAddress = Object.fromEntries(\n    (allMarkets || []).map((marketInfo) => [\n      marketInfo.market.address.toBase58(),\n      marketInfo.market,\n    ]),\n  );\n\n  const dataSource: OrderWithMarketAndMarketName[] = (openOrders || [])\n    .map((orderInfos) =>\n      orderInfos.orders.map((order) => {\n        return {\n          marketName: marketAddressesToNames[orderInfos.marketAddress],\n          market: marketsByAddress[orderInfos.marketAddress],\n          ...order,\n        };\n      }),\n    )\n    .flat();\n\n  if (!connected) {\n    return (\n      <Row\n        justify=\"center\"\n        style={{\n          marginTop: '10%',\n        }}\n      >\n        <WalletConnect />\n      </Row>\n    );\n  }\n\n  return (\n    <FloatingElement style={{ flex: 1, paddingTop: 10 }}>\n      <Button onClick={refreshOpenOrders} loading={!loaded}>\n        Refresh\n      </Button>\n      <OpenOrderTable\n        openOrders={dataSource}\n        pageSize={25}\n        loading={!loaded}\n        onCancelSuccess={refreshOpenOrders}\n        marketFilter\n      />\n    </FloatingElement>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}