{"ast":null,"code":"var _jsxFileName = \"/mnt/c/Users/Gianni/Desktop/cooperaty-app/src/pages/TradePage.tsx\";\nimport React, { useCallback, useEffect, useRef, useState } from 'react';\nimport { Col, Row, Select, Tabs } from 'antd';\nimport styled from 'styled-components';\nimport StandaloneBalancesDisplay from '../components/StandaloneBalancesDisplay';\nimport { getTradePageUrl, MarketProvider } from '../utils/markets';\nimport TradeForm from '../components/TradeForm';\nimport DeprecatedMarketsInstructions from '../components/DeprecatedMarketsInstructions';\nimport { useHistory, useParams } from 'react-router-dom';\nimport { TVChartContainer } from '../components/TradingView';\nconst {\n  TabPane\n} = Tabs;\n\nfunction callback(key) {\n  console.log(key);\n}\n\nconst {\n  Option,\n  OptGroup\n} = Select;\nconst Wrapper = styled.div`\n  height: 100%;\n  display: flex;\n  flex-direction: column;\n  padding: 16px 16px;\n  .borderNone .ant-select-selector {\n    border: none !important;\n  }\n`;\nexport default function TradePage() {\n  const {\n    marketAddress\n  } = useParams();\n  useEffect(() => {\n    if (marketAddress) {\n      localStorage.setItem('marketAddress', JSON.stringify(marketAddress));\n    }\n  }, [marketAddress]);\n  const history = useHistory();\n\n  function setMarketAddress(address) {\n    history.push(getTradePageUrl(address));\n  }\n\n  return /*#__PURE__*/React.createElement(MarketProvider, {\n    marketAddress: marketAddress,\n    setMarketAddress: setMarketAddress,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(TradePageInner, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 7\n    }\n  }));\n}\n\nfunction TradePageInner() {\n  const [handleDeprecated, setHandleDeprecated] = useState(false);\n  const [dimensions, setDimensions] = useState({\n    height: window.innerHeight,\n    width: window.innerWidth\n  });\n  const changeOrderRef = useRef();\n  useEffect(() => {\n    const handleResize = () => {\n      setDimensions({\n        height: window.innerHeight,\n        width: window.innerWidth\n      });\n    };\n\n    window.addEventListener('resize', handleResize);\n    return () => window.removeEventListener('resize', handleResize);\n  }, []);\n  const width = dimensions === null || dimensions === void 0 ? void 0 : dimensions.width;\n  const componentProps = {\n    onChangeOrderRef: ref => changeOrderRef.current = ref,\n    onPrice: useCallback(price => changeOrderRef.current && changeOrderRef.current({\n      price\n    }), []),\n    onSize: useCallback(size => changeOrderRef.current && changeOrderRef.current({\n      size\n    }), [])\n  };\n\n  const component = (() => {\n    if (handleDeprecated) {\n      return /*#__PURE__*/React.createElement(DeprecatedMarketsPage, {\n        switchToLiveMarkets: () => setHandleDeprecated(false),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 107,\n          columnNumber: 9\n        }\n      });\n    } else if (width < 1000) {\n      return /*#__PURE__*/React.createElement(RenderSmaller, Object.assign({}, componentProps, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 112,\n          columnNumber: 14\n        }\n      }));\n    } else if (width < 1450) {\n      return /*#__PURE__*/React.createElement(RenderSmall, Object.assign({}, componentProps, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 114,\n          columnNumber: 14\n        }\n      }));\n    } else {\n      return /*#__PURE__*/React.createElement(RenderNormal, Object.assign({}, componentProps, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 116,\n          columnNumber: 14\n        }\n      }));\n    }\n  })();\n\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Wrapper, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 7\n    }\n  }, component));\n}\n\nconst DeprecatedMarketsPage = ({\n  switchToLiveMarkets\n}) => {\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Row, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 132,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Col, {\n    flex: \"auto\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 133,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(DeprecatedMarketsInstructions, {\n    switchToLiveMarkets: switchToLiveMarkets,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 134,\n      columnNumber: 11\n    }\n  }))));\n};\n\nconst RenderNormal = ({\n  onChangeOrderRef,\n  onPrice,\n  onSize\n}) => {\n  return /*#__PURE__*/React.createElement(Row, {\n    style: {\n      minHeight: '620px',\n      flexWrap: 'nowrap'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 145,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Col, {\n    flex: \"auto\",\n    style: {\n      width: '100%'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 151,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Tabs, {\n    onChange: callback,\n    type: \"card\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 152,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(TabPane, {\n    tab: \"Tab 1\",\n    key: \"1\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 153,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Row, {\n    style: {\n      height: '80vh'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 154,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(TVChartContainer, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 155,\n      columnNumber: 13\n    }\n  }))), /*#__PURE__*/React.createElement(TabPane, {\n    tab: \"Tab 2\",\n    key: \"2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 158,\n      columnNumber: 11\n    }\n  }, \"Content of Tab Pane 2\", /*#__PURE__*/React.createElement(Row, {\n    style: {\n      height: '80vh'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 160,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(TVChartContainer, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 161,\n      columnNumber: 15\n    }\n  }))), /*#__PURE__*/React.createElement(TabPane, {\n    tab: \"Tab 3\",\n    key: \"3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 164,\n      columnNumber: 11\n    }\n  }, \"Content of Tab Pane 3\"))), /*#__PURE__*/React.createElement(Col, {\n    flex: \"400px\",\n    style: {\n      height: '100%',\n      display: 'flex',\n      flexDirection: 'column'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 169,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(TradeForm, {\n    setChangeOrderRef: onChangeOrderRef,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 173,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(StandaloneBalancesDisplay, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 174,\n      columnNumber: 9\n    }\n  })));\n};\n\nconst RenderSmall = ({\n  onChangeOrderRef,\n  onPrice,\n  onSize\n}) => {\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Row, {\n    style: {\n      height: '85vh'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 183,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(TVChartContainer, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 184,\n      columnNumber: 9\n    }\n  })), /*#__PURE__*/React.createElement(Row, {\n    style: {\n      height: '620px'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 186,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Col, {\n    flex: \"400px\",\n    style: {\n      height: '100%',\n      display: 'flex',\n      flexDirection: 'column'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 191,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(TradeForm, {\n    setChangeOrderRef: onChangeOrderRef,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 195,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(StandaloneBalancesDisplay, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 196,\n      columnNumber: 11\n    }\n  }))));\n};\n\nconst RenderSmaller = ({\n  onChangeOrderRef,\n  onPrice,\n  onSize\n}) => {\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Row, {\n    style: {\n      height: '85vh'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 206,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 207,\n      columnNumber: 9\n    }\n  }, \"ASD\"), /*#__PURE__*/React.createElement(TVChartContainer, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 208,\n      columnNumber: 9\n    }\n  })), /*#__PURE__*/React.createElement(Row, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 210,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Col, {\n    xs: 24,\n    sm: 12,\n    style: {\n      height: '100%',\n      display: 'flex'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 211,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(TradeForm, {\n    style: {\n      flex: 1\n    },\n    setChangeOrderRef: onChangeOrderRef,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 212,\n      columnNumber: 11\n    }\n  })), /*#__PURE__*/React.createElement(Col, {\n    xs: 24,\n    sm: 12,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 214,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(StandaloneBalancesDisplay, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 215,\n      columnNumber: 11\n    }\n  }))));\n};","map":{"version":3,"sources":["/mnt/c/Users/Gianni/Desktop/cooperaty-app/src/pages/TradePage.tsx"],"names":["React","useCallback","useEffect","useRef","useState","Col","Row","Select","Tabs","styled","StandaloneBalancesDisplay","getTradePageUrl","MarketProvider","TradeForm","DeprecatedMarketsInstructions","useHistory","useParams","TVChartContainer","TabPane","callback","key","console","log","Option","OptGroup","Wrapper","div","TradePage","marketAddress","localStorage","setItem","JSON","stringify","history","setMarketAddress","address","push","TradePageInner","handleDeprecated","setHandleDeprecated","dimensions","setDimensions","height","window","innerHeight","width","innerWidth","changeOrderRef","handleResize","addEventListener","removeEventListener","componentProps","onChangeOrderRef","ref","current","onPrice","price","onSize","size","component","DeprecatedMarketsPage","switchToLiveMarkets","RenderNormal","minHeight","flexWrap","display","flexDirection","RenderSmall","RenderSmaller","flex"],"mappings":"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","sourcesContent":["import React, { useCallback, useEffect, useRef, useState } from 'react';\nimport { Button, Col, Popover, Row, Select, Typography, Tabs } from 'antd';\nimport styled from 'styled-components';\nimport UserInfoTable from '../components/UserInfoTable';\nimport StandaloneBalancesDisplay from '../components/StandaloneBalancesDisplay';\nimport {\n  getMarketInfos,\n  getTradePageUrl,\n  MarketProvider,\n  useMarket,\n  useMarketsList,\n  useUnmigratedDeprecatedMarkets,\n} from '../utils/markets';\nimport TradeForm from '../components/TradeForm';\nimport LinkAddress from '../components/LinkAddress';\nimport DeprecatedMarketsInstructions from '../components/DeprecatedMarketsInstructions';\nimport {\n  DeleteOutlined,\n  InfoCircleOutlined,\n  PlusCircleOutlined,\n} from '@ant-design/icons';\nimport CustomMarketDialog from '../components/CustomMarketDialog';\nimport { notify } from '../utils/notifications';\nimport { useHistory, useParams } from 'react-router-dom';\nimport { nanoid } from 'nanoid';\nimport { TVChartContainer } from '../components/TradingView';\n\nconst { TabPane } = Tabs;\n\nfunction callback(key) {\n  console.log(key);\n}\n\nconst { Option, OptGroup } = Select;\n\nconst Wrapper = styled.div`\n  height: 100%;\n  display: flex;\n  flex-direction: column;\n  padding: 16px 16px;\n  .borderNone .ant-select-selector {\n    border: none !important;\n  }\n`;\n\nexport default function TradePage() {\n  const { marketAddress } = useParams();\n  useEffect(() => {\n    if (marketAddress) {\n      localStorage.setItem('marketAddress', JSON.stringify(marketAddress));\n    }\n  }, [marketAddress]);\n  const history = useHistory();\n  function setMarketAddress(address) {\n    history.push(getTradePageUrl(address));\n  }\n\n  return (\n    <MarketProvider\n      marketAddress={marketAddress}\n      setMarketAddress={setMarketAddress}\n    >\n      <TradePageInner />\n    </MarketProvider>\n  );\n}\n\nfunction TradePageInner() {\n\n  const [handleDeprecated, setHandleDeprecated] = useState(false);\n  const [dimensions, setDimensions] = useState({\n    height: window.innerHeight,\n    width: window.innerWidth,\n  });\n\n  const changeOrderRef = useRef<\n    ({ size, price }: { size?: number; price?: number }) => void\n  >();\n\n  useEffect(() => {\n    const handleResize = () => {\n      setDimensions({\n        height: window.innerHeight,\n        width: window.innerWidth,\n      });\n    };\n\n    window.addEventListener('resize', handleResize);\n    return () => window.removeEventListener('resize', handleResize);\n  }, []);\n\n  const width = dimensions?.width;\n  const componentProps = {\n    onChangeOrderRef: (ref) => (changeOrderRef.current = ref),\n    onPrice: useCallback(\n      (price) => changeOrderRef.current && changeOrderRef.current({ price }),\n      [],\n    ),\n    onSize: useCallback(\n      (size) => changeOrderRef.current && changeOrderRef.current({ size }),\n      [],\n    ),\n  };\n  const component = (() => {\n    if (handleDeprecated) {\n      return (\n        <DeprecatedMarketsPage\n          switchToLiveMarkets={() => setHandleDeprecated(false)}\n        />\n      );\n    } else if (width < 1000) {\n      return <RenderSmaller {...componentProps} />;\n    } else if (width < 1450) {\n      return <RenderSmall {...componentProps} />;\n    } else {\n      return <RenderNormal {...componentProps} />;\n    }\n  })();\n\n  return (\n    <>\n      <Wrapper>\n        {component}\n      </Wrapper>\n    </>\n  );\n}\n\nconst DeprecatedMarketsPage = ({ switchToLiveMarkets }) => {\n  return (\n    <>\n      <Row>\n        <Col flex=\"auto\">\n          <DeprecatedMarketsInstructions\n            switchToLiveMarkets={switchToLiveMarkets}\n          />\n        </Col>\n      </Row>\n    </>\n  );\n};\n\nconst RenderNormal = ({ onChangeOrderRef, onPrice, onSize }) => {\n  return (\n    <Row\n      style={{\n        minHeight: '620px',\n        flexWrap: 'nowrap',\n      }}\n    >\n      <Col flex=\"auto\" style={{ width: '100%' }}>\n        <Tabs onChange={callback} type=\"card\">\n          <TabPane tab=\"Tab 1\" key=\"1\">\n          <Row style={{ height: '80vh' }}>\n            <TVChartContainer />\n          </Row>\n          </TabPane>\n          <TabPane tab=\"Tab 2\" key=\"2\">\n            Content of Tab Pane 2\n            <Row style={{ height: '80vh' }}>\n              <TVChartContainer />\n            </Row>\n          </TabPane>\n          <TabPane tab=\"Tab 3\" key=\"3\">\n            Content of Tab Pane 3\n          </TabPane>\n        </Tabs>\n      </Col>\n      <Col\n        flex=\"400px\"\n        style={{ height: '100%', display: 'flex', flexDirection: 'column' }}\n      >\n        <TradeForm setChangeOrderRef={onChangeOrderRef} />\n        <StandaloneBalancesDisplay />\n      </Col>\n    </Row>\n  );\n};\n\nconst RenderSmall = ({ onChangeOrderRef, onPrice, onSize }) => {\n  return (\n    <>\n      <Row style={{ height: '85vh' }}>\n        <TVChartContainer />\n      </Row>\n      <Row\n        style={{\n          height: '620px',\n        }}\n      >\n        <Col\n          flex=\"400px\"\n          style={{ height: '100%', display: 'flex', flexDirection: 'column' }}\n        >\n          <TradeForm setChangeOrderRef={onChangeOrderRef} />\n          <StandaloneBalancesDisplay />\n        </Col>\n      </Row>\n    </>\n  );\n};\n\nconst RenderSmaller = ({ onChangeOrderRef, onPrice, onSize }) => {\n  return (\n    <>\n      <Row style={{ height: '85vh' }}>\n        <h1>ASD</h1>\n        <TVChartContainer />\n      </Row>\n      <Row>\n        <Col xs={24} sm={12} style={{ height: '100%', display: 'flex' }}>\n          <TradeForm style={{ flex: 1 }} setChangeOrderRef={onChangeOrderRef} />\n        </Col>\n        <Col xs={24} sm={12}>\n          <StandaloneBalancesDisplay />\n        </Col>\n      </Row>\n    </>\n  );\n};\n"]},"metadata":{},"sourceType":"module"}